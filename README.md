# pe-test

## Description
æ— éªŒè¯ç ç³»ç»Ÿç½‘ç«™æŠ“é¢˜è„šæœ¬

## Disclaimer
- è¯¥å·¥å…·æ²¡æœ‰åšä»»ä½•é”™è¯¯å¤„ç†, æ‰€ä»¥å°å¿ƒä½¿ç”¨ã€‚
- ä»…ä¾›å¨±ä¹, ä¸è¦å¹²åäº‹å“Ÿ...

## Prerequisites
- è¦æ±‚ç³»ç»Ÿå¸¦æœ‰curlå’Œiconvä¸¤ä¸ªå‘½ä»¤(mac OSXä¸‹éœ€è¦è‡ªè¡Œå®‰è£…)
- å®‰è£…[sbt](http://www.scala-sbt.org/0.13/docs/zh-cn/Setup.html)
- è¦æ±‚ç›®æ ‡ç½‘ç«™æ²¡æœ‰éªŒè¯ç ğŸ˜‚

## Build
- å®‰è£…sbtå¹¶ç¡®ä¿curlå’Œiconvå¯ä»¥ä½¿ç”¨
- `cd /the/root/path`
- `sbt assembly`

ç„¶åsbtå°±ä¼šè‡ªåŠ¨ä¸‹è½½æ‰€æœ‰ä¾èµ–, å¦‚æœé¡ºåˆ©çš„è¯, ä¼šå°†jaræ–‡ä»¶æ‰“åŒ…åˆ°:target/scala-2.11/petest.jar

## Usage
### fetch
```bash
java -jar petest.jar fetch å­¦å· å¯†ç  æ¡æ•° [é—´éš”(ms)] 2> /dev/null
```

é—´éš”å¦‚æœä¸å¡«å†™åˆ™é»˜è®¤ä¸º10000(10s), å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§, ä¸€å®šä¸è¦æ”¹å°äº†, ä¸ç„¶è¢«æŸ¥æ°´è¡¨åæœè‡ªè´Ÿ..

è¯¥å·¥å…·ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶, ä¸€ä¸ªæ˜¯å­¦å·.txt(ä¸´æ—¶ä½¿ç”¨), é‡Œé¢åŒ…å«äº†ä½ çš„cookieä¿¡æ¯, è¿˜æœ‰ä¸€ä¸ªæ˜¯output.json, é‡Œé¢æŒ‰ç…§jsonæ ¼å¼è¾“å‡ºäº†é¢˜ç›®å¯¹è±¡:

```json
{
  "content": "é¢˜ç›®å†…å®¹",
  "answer": "A/B/C/D",
  "validity": "æ­£ç¡®/é”™è¯¯/æ— æ•ˆ"
}
```

è¿™ä¸ªå·¥å…·æ˜¯ç›´æ¥è’™é¢˜çš„, æ‰€ä»¥validityè¡¨ç¤ºè¿™ä¸ªç­”æ¡ˆæ˜¯ä¸æ˜¯æ­£ç¡®(å¦‚æœå‡ºç°äº†"æ— æ•ˆ"è¯´æ˜å‡ºé—®é¢˜äº†, è¯·å¿½ç•¥), å½“ç„¶äº†è¿™æ ·è‚‰çœ¼çœ‹é¢˜æœ‰ç‚¹éº»çƒ¦, ç›¸å…³çš„åˆ†æå·¥å…·ä¼šåœ¨ä¹‹åå®Œæˆã€‚

åœ¨ç›®å‰æ²¡æœ‰åˆ†æå·¥å…·çš„æƒ…å†µä¸‹, å¯ä»¥ä½¿ç”¨sortå‘½ä»¤æ’åº, è¿™æ ·ç›¸åŒçš„é¢˜ç›®å°±ä¼šæ’åœ¨ä¸€èµ·äº†:

```bash
sort output.json > sorted.json
```

å…¶å®sorted.jsonå°±è¶³å¤Ÿä½¿ç”¨äº†

å¯ä»¥æ”¾åœ¨æœåŠ¡å™¨ä¸Šæ…¢æ…¢è·‘...æ³¨æ„, æ˜¯æ…¢æ…¢è·‘, æ…¢æ…¢çš„....

å¦‚æœè¦æŒ‚è½½æœåŠ¡å™¨ä¸Š, å¯ä»¥ä½¿ç”¨nohupå‘½ä»¤:

```bash
nohup <your command> &
```

è¿™æ ·å°±å¯ä»¥å®‰å®‰å¿ƒå¿ƒé€€å‡ºsshäº†ã€‚

### merge
ç°å·²æ·»åŠ mergeå‘½ä»¤, ç”¨æ¥å¤„ç†json:

```
java -jar petest.jar merge < output.json > result.txt
```

